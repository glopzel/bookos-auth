<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Books</title>

    <!-- tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- daisyUI -->
    <link href="https://cdn.jsdelivr.net/npm/daisyui@2.24.0/dist/full.css" rel="stylesheet" type="text/css" />

    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="logout-container flex justify-end p-5">
        <a href="/logout" class="btn btn-error">Logout</a>
    </div>
    
    <main class="flex flex-col items-center">
        <div class="mb-5">
            <h1 class="text-5xl text-center">
                Book Tracker
            </h1>
            <h2 class="text-center text-2xl mt-6">Sup <%= user.userName %>, these are your books. You have <%= booksToRead %> books left to read</h2>
        </div>
        
        <div class="container flex justify-center mb-6">
            <form action="/books/addBook" method="post">

                    <input type="text" placeholder="Enter Book Title" name="bookTitle" id="title" class="input input-bordered input-accent max-w-xs mr-5">
   
                    <input type="text" placeholder="Enter Book Author" name="bookAuthor" id="author" class="input input-bordered input-accent max-w-xs mr-5">
                        
                    <button id="submit-btn" type="submit" class="btn btn-accent">Submit</button>

            </form>
        </div>
        
        <div class="card-container justify-center">
            <% totalBooks.forEach(element => { %>
            <div class="card w-96 bg-base-100 shadow-xl image-full card-content m-6 <%= element.read === true ? 'border border-green-500': 'border'%>">
                <!-- on class: <%= element.read === true ? 'bg-success' : 'white'%> -->
                <!-- <figure><img src="https://placeimg.com/400/225/arch" alt="Shoes" /></figure> -->
                <div class="card-body" data-id="<%=element._id%>">
                  <h2 class="card-title"><%= element.bookTitle %></h2>
                  <p><%= element.bookAuthor %></p>
                  <div class="card-actions justify-end btns-update">
                    <!-- this will always be there -->
                    <button class="delete btn btn-outline btn-error">
                        Delete
                    </button>

                    <!-- if it is read, then dont hide it -->
                    <button class="unread btn btn-outline btn-warning <%=element.read === false ? 'hidden' : 'notHidden' %>">
                        UNREAD
                    </button>

                    <!-- if it is read then hide it -->
                    <button class="read btn btn-outline btn-success <%=element.read === true ? 'hidden' : 'notHidden' %>">
                        READ
                    </button>
                  </div>
                </div>
            </div>
            <% }) %>
        </div>
        

        <!-- <div class="container">
            <div class="row">
                <% totalBooks.forEach(element => { %>
                    <div class="col s12 m6">
                        <div class="card">
                        
                            <div class="card-content <%= element.read === true ? 'green lighten-4' : 'white'%>" data-id="<%=element._id%>">
                                <span class="card-title"><%= element.bookTitle %></span>
                                <span><%= element.bookAuthor %></span>
                                <p>I am a very simple card. I am good at containing small bits of information.</p>
                            </div>
                            <div class="card-action btns-update">
                                <button class="delete red btn-small">
                                    <i class="tiny fa fa-times left"></i>DELETE
                                </button>
                                <button class="unread lime btn-small <%=element.read === false ? 'hidden' : 'notHidden' %>">
                                    <i class="tiny fa-solid fa-arrow-rotate-right left"></i>UNREAD
                                </button>
                                <button class="read green btn-small <%=element.read === true ? 'hidden' : 'notHidden' %>">
                                    <i class="tiny fa fa-check left"></i>READ
                                </button>
                            </div>
                    </div>
                </div>
                <% }) %>
            </div> -->
            
        <!-- </div> -->
    </main>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <script src="js/script.js"></script>
</body>
</html>